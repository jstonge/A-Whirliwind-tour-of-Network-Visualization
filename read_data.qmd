---
title: "I/O standards"
format:
  html:
    code-fold: false
    toc: true
    number-sections: false
date: today
editor: visual
---

> All course data are alike; each dataset of our own is different in its own way.

Reading data that we care about can be frustrating because it is never in the tidy format we want it to be. At the same time, this make sense. If it were, it would probably already be analyzed by someone.

## Data Format

::: {.panel-tabset}

## NetworkX

A good starting point is [networkx](https://networkx.org/documentation/stable/reference/readwrite/index.html) documentation on reading and writing graphs.

```{=html}
<iframe width="780" height="500" src="https://networkx.org/documentation/stable/reference/readwrite/index.html" title="Quarto Documentation"></iframe>
```

## Igraph

A good starting point is [igraph](https://igraph.org/c/doc/igraph-Foreign.html) documentation on reading and writing graphs.
```{=html}
<iframe width="780" height="500" src="https://igraph.org/c/doc/igraph-Foreign.html" title="Quarto Documentation"></iframe>
``` 

:::

But really, let's just try it out. We will look at all the different data formats of the classical `Zachary karate club` dataset that we can find out there.

```{python}
#| code-fold: true
#| code-summary: "Python helpers"
from pathlib import Path
import networkx as nx
import numpy as np
import json

root_dir = Path()
data_dir = root_dir / 'data'
```

### Format 1

::: {.callout-note title="Format 1" collapse="true"}

```zsh
Creator "Mark Newman on Fri Jul 21 12:39:27 2006"
graph
[
  node
  [
    id 1
  ]
  node
  [
    id 2
  ]
  node
  [
    id 3
  ]
  node
  [
    id 4
  ]
  node
  [
    id 5
  ]
  node
  [
    id 6
  ]
  node
  [
    id 7
  ]
  node
  [
    id 8
  ]
  node
  [
    id 9
  ]
  node
  [
    id 10
  ]
  node
  [
    id 11
  ]
  node
  [
    id 12
  ]
  node
  [
    id 13
  ]
  node
  [
    id 14
  ]
  node
  [
    id 15
  ]
  node
  [
    id 16
  ]
  node
  [
    id 17
  ]
  node
  [
    id 18
  ]
  node
  [
    id 19
  ]
  node
  [
    id 20
  ]
  node
  [
    id 21
  ]
  node
  [
    id 22
  ]
  node
  [
    id 23
  ]
  node
  [
    id 24
  ]
  node
  [
    id 25
  ]
  node
  [
    id 26
  ]
  node
  [
    id 27
  ]
  node
  [
    id 28
  ]
  node
  [
    id 29
  ]
  node
  [
    id 30
  ]
  node
  [
    id 31
  ]
  node
  [
    id 32
  ]
  node
  [
    id 33
  ]
  node
  [
    id 34
  ]
  edge
  [
    source 2
    target 1
  ]
  edge
  [
    source 3
    target 1
  ]
  edge
  [
    source 3
    target 2
  ]
  edge
  [
    source 4
    target 1
  ]
  edge
  [
    source 4
    target 2
  ]
  edge
  [
    source 4
    target 3
  ]
  edge
  [
    source 5
    target 1
  ]
  edge
  [
    source 6
    target 1
  ]
  edge
  [
    source 7
    target 1
  ]
  edge
  [
    source 7
    target 5
  ]
  edge
  [
    source 7
    target 6
  ]
  edge
  [
    source 8
    target 1
  ]
  edge
  [
    source 8
    target 2
  ]
  edge
  [
    source 8
    target 3
  ]
  edge
  [
    source 8
    target 4
  ]
  edge
  [
    source 9
    target 1
  ]
  edge
  [
    source 9
    target 3
  ]
  edge
  [
    source 10
    target 3
  ]
  edge
  [
    source 11
    target 1
  ]
  edge
  [
    source 11
    target 5
  ]
  edge
  [
    source 11
    target 6
  ]
  edge
  [
    source 12
    target 1
  ]
  edge
  [
    source 13
    target 1
  ]
  edge
  [
    source 13
    target 4
  ]
  edge
  [
    source 14
    target 1
  ]
  edge
  [
    source 14
    target 2
  ]
  edge
  [
    source 14
    target 3
  ]
  edge
  [
    source 14
    target 4
  ]
  edge
  [
    source 17
    target 6
  ]
  edge
  [
    source 17
    target 7
  ]
  edge
  [
    source 18
    target 1
  ]
  edge
  [
    source 18
    target 2
  ]
  edge
  [
    source 20
    target 1
  ]
  edge
  [
    source 20
    target 2
  ]
  edge
  [
    source 22
    target 1
  ]
  edge
  [
    source 22
    target 2
  ]
  edge
  [
    source 26
    target 24
  ]
  edge
  [
    source 26
    target 25
  ]
  edge
  [
    source 28
    target 3
  ]
  edge
  [
    source 28
    target 24
  ]
  edge
  [
    source 28
    target 25
  ]
  edge
  [
    source 29
    target 3
  ]
  edge
  [
    source 30
    target 24
  ]
  edge
  [
    source 30
    target 27
  ]
  edge
  [
    source 31
    target 2
  ]
  edge
  [
    source 31
    target 9
  ]
  edge
  [
    source 32
    target 1
  ]
  edge
  [
    source 32
    target 25
  ]
  edge
  [
    source 32
    target 26
  ]
  edge
  [
    source 32
    target 29
  ]
  edge
  [
    source 33
    target 3
  ]
  edge
  [
    source 33
    target 9
  ]
  edge
  [
    source 33
    target 15
  ]
  edge
  [
    source 33
    target 16
  ]
  edge
  [
    source 33
    target 19
  ]
  edge
  [
    source 33
    target 21
  ]
  edge
  [
    source 33
    target 23
  ]
  edge
  [
    source 33
    target 24
  ]
  edge
  [
    source 33
    target 30
  ]
  edge
  [
    source 33
    target 31
  ]
  edge
  [
    source 33
    target 32
  ]
  edge
  [
    source 34
    target 9
  ]
  edge
  [
    source 34
    target 10
  ]
  edge
  [
    source 34
    target 14
  ]
  edge
  [
    source 34
    target 15
  ]
  edge
  [
    source 34
    target 16
  ]
  edge
  [
    source 34
    target 19
  ]
  edge
  [
    source 34
    target 20
  ]
  edge
  [
    source 34
    target 21
  ]
  edge
  [
    source 34
    target 23
  ]
  edge
  [
    source 34
    target 24
  ]
  edge
  [
    source 34
    target 27
  ]
  edge
  [
    source 34
    target 28
  ]
  edge
  [
    source 34
    target 29
  ]
  edge
  [
    source 34
    target 30
  ]
  edge
  [
    source 34
    target 31
  ]
  edge
  [
    source 34
    target 32
  ]
  edge
  [
    source 34
    target 33
  ]
]
```

:::


```{python}
# see https://networkx.org/documentation/stable/_modules/networkx/readwrite/gml.html#read_gml
nx.draw(nx.read_gml(data_dir / 'zachary' / 'karate1.txt', label='id'))
```

### Format 2

::: {.callout-note title="Format 2" collapse="true"}

```zsh
DL
N=34 NM=2
FORMAT = FULLMATRIX DIAGONAL PRESENT
LEVEL LABELS:
ZACHE
ZACHC
DATA:
 0 1 1 1 1 1 1 1 1 0 1 1 1 1 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 1 0 0
 1 0 1 1 0 0 0 1 0 0 0 0 0 1 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 1 0 0 0
 1 1 0 1 0 0 0 1 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 1 0
 1 1 1 0 0 0 0 1 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 1
 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1
 1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1
 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1
 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1
 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 1 0 0 1 1
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 1 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1
 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 1
 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0 0 0 1 1
 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1
 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 1 0 0 0 1 1
 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 1 0 0 1 0 1 0 1 1 0 0 0 0 0 1 1 1 0 1
 0 0 0 0 0 0 0 0 1 1 0 0 0 1 1 1 0 0 1 1 1 0 1 1 0 0 1 1 1 1 1 1 1 0
 0 4 5 3 3 3 3 2 2 0 2 3 1 3 0 0 0 2 0 2 0 2 0 0 0 0 0 0 0 0 0 2 0 0
 4 0 6 3 0 0 0 4 0 0 0 0 0 5 0 0 0 1 0 2 0 2 0 0 0 0 0 0 0 0 2 0 0 0
 5 6 0 3 0 0 0 4 5 1 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 2 2 0 0 0 2 0
 3 3 3 0 0 0 0 3 0 0 0 0 3 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 3 0 0 0 0 0 2 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 3 0 0 0 0 0 5 0 0 0 3 0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 3 0 0 0 2 5 0 0 0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 2 4 4 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 2 0 5 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3 0 3 4
 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2
 2 0 0 0 3 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 1 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 3 5 3 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3 2
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3 4
 0 0 0 0 0 3 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 2 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 2
 2 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3 1
 2 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 3
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 5 0 4 0 3 0 0 5 4
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 0 3 0 0 0 2 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 5 2 0 0 0 0 0 0 7 0 0
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 2
 0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 4 3 0 0 0 0 0 0 0 0 4
 0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 0 2
 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3 0 0 4 0 0 0 0 0 4 2
 0 2 0 0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3 3
 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 7 0 0 2 0 0 0 4 4
 0 0 2 0 0 0 0 0 3 0 0 0 0 0 3 3 0 0 1 0 3 0 2 5 0 0 0 0 0 4 3 4 0 5
 0 0 0 0 0 0 0 0 4 2 0 0 0 3 2 4 0 0 2 1 1 0 3 4 0 0 2 4 2 2 3 4 5 0
```

:::

::: {.panel-tabset}

## python

```{python}
#| code-fold: true
#| code-summary: "read_ucinet()"

def read_ucinet():
  """
    DATASET ZACHARY

    DESCRIPTION Two 34×34 matrices.

        ZACHE symmetric, binary.
        ZACHC symmetric, valued. 

    ref: http://vlado.fmf.uni-lj.si/pub/networks/data/ucinet/ucidata.htm#zachary
  """
  out = []
  with open(data_dir / 'zachary' / "karate2.txt", "r") as f:
    for i, line in enumerate(f.readlines()):
      # index starts at zero
      if i >= 7 and i <= 40:
        out.append([int(x) for x in line.strip().split()])
  return nx.from_numpy_array(np.array(out))
```

```{python}
nx.draw(read_ucinet())
```

## R

```{r}
# see https://gephi.org/users/supported-graph-formats/ucinet-dl-format/
adjm <- multiplex::read.dl(here::here('data', 'zachary', 'karate2.txt'))
plot(igraph::graph_from_adjacency_matrix(adjm[,,"ZACHE"], mode="undirected"))
```
:::


### Format 3

```{python}
nx.draw(nx.read_edgelist(data_dir / 'zachary' / 'karate4.txt'))
```

::: {.callout-tip}
Sometimes, you might find yourself in a situation where `nx.read_*` doesn't work out. You'll need to write some code (you're allowed to use `gpt4`, I didn't know about `xml.etree.ElementTree` python module before this week. This is great.)
:::

### Format 4

::: {.callout-note title="Format 4" collapse="true"}

```zsh
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<DynamicNetwork>
	<MetaNetwork>
		<nodes>
			<nodeclass type="agent">
				<node id="1" />
				<node id="2" />
				<node id="3" />
				<node id="4" />
				<node id="5" />
				<node id="6" />
				<node id="7" />
				<node id="8" />
				<node id="9" />
				<node id="10" />
				<node id="11" />
				<node id="12" />
				<node id="13" />
				<node id="14" />
				<node id="15" />
				<node id="16" />
				<node id="17" />
				<node id="18" />
				<node id="19" />
				<node id="20" />
				<node id="21" />
				<node id="22" />
				<node id="23" />
				<node id="24" />
				<node id="25" />
				<node id="26" />
				<node id="27" />
				<node id="28" />
				<node id="29" />
				<node id="30" />
				<node id="31" />
				<node id="32" />
				<node id="33" />
				<node id="34" />
			</nodeclass>
		</nodes>
		<networks>
			<network sourceType="agent" targetType="agent" id="ZACHE" isDirected="true">
				<link source="1" target="2" type="double" value="1" />
				<link source="1" target="3" type="double" value="1" />
				<link source="1" target="4" type="double" value="1" />
				<link source="1" target="5" type="double" value="1" />
				<link source="1" target="6" type="double" value="1" />
				<link source="1" target="7" type="double" value="1" />
				<link source="1" target="8" type="double" value="1" />
				<link source="1" target="9" type="double" value="1" />
				<link source="1" target="11" type="double" value="1" />
				<link source="1" target="12" type="double" value="1" />
				<link source="1" target="13" type="double" value="1" />
				<link source="1" target="14" type="double" value="1" />
				<link source="1" target="18" type="double" value="1" />
				<link source="1" target="20" type="double" value="1" />
				<link source="1" target="22" type="double" value="1" />
				<link source="1" target="32" type="double" value="1" />
				<link source="2" target="1" type="double" value="1" />
				<link source="2" target="3" type="double" value="1" />
				<link source="2" target="4" type="double" value="1" />
				<link source="2" target="8" type="double" value="1" />
				<link source="2" target="14" type="double" value="1" />
				<link source="2" target="18" type="double" value="1" />
				<link source="2" target="20" type="double" value="1" />
				<link source="2" target="22" type="double" value="1" />
				<link source="2" target="31" type="double" value="1" />
				<link source="3" target="1" type="double" value="1" />
				<link source="3" target="2" type="double" value="1" />
				<link source="3" target="4" type="double" value="1" />
				<link source="3" target="8" type="double" value="1" />
				<link source="3" target="9" type="double" value="1" />
				<link source="3" target="10" type="double" value="1" />
				<link source="3" target="14" type="double" value="1" />
				<link source="3" target="28" type="double" value="1" />
				<link source="3" target="29" type="double" value="1" />
				<link source="3" target="33" type="double" value="1" />
				<link source="4" target="1" type="double" value="1" />
				<link source="4" target="2" type="double" value="1" />
				<link source="4" target="3" type="double" value="1" />
				<link source="4" target="8" type="double" value="1" />
				<link source="4" target="13" type="double" value="1" />
				<link source="4" target="14" type="double" value="1" />
				<link source="5" target="1" type="double" value="1" />
				<link source="5" target="7" type="double" value="1" />
				<link source="5" target="11" type="double" value="1" />
				<link source="6" target="1" type="double" value="1" />
				<link source="6" target="7" type="double" value="1" />
				<link source="6" target="11" type="double" value="1" />
				<link source="6" target="17" type="double" value="1" />
				<link source="7" target="1" type="double" value="1" />
				<link source="7" target="5" type="double" value="1" />
				<link source="7" target="6" type="double" value="1" />
				<link source="7" target="17" type="double" value="1" />
				<link source="8" target="1" type="double" value="1" />
				<link source="8" target="2" type="double" value="1" />
				<link source="8" target="3" type="double" value="1" />
				<link source="8" target="4" type="double" value="1" />
				<link source="9" target="1" type="double" value="1" />
				<link source="9" target="3" type="double" value="1" />
				<link source="9" target="31" type="double" value="1" />
				<link source="9" target="33" type="double" value="1" />
				<link source="9" target="34" type="double" value="1" />
				<link source="10" target="3" type="double" value="1" />
				<link source="10" target="34" type="double" value="1" />
				<link source="11" target="1" type="double" value="1" />
				<link source="11" target="5" type="double" value="1" />
				<link source="11" target="6" type="double" value="1" />
				<link source="12" target="1" type="double" value="1" />
				<link source="13" target="1" type="double" value="1" />
				<link source="13" target="4" type="double" value="1" />
				<link source="14" target="1" type="double" value="1" />
				<link source="14" target="2" type="double" value="1" />
				<link source="14" target="3" type="double" value="1" />
				<link source="14" target="4" type="double" value="1" />
				<link source="14" target="34" type="double" value="1" />
				<link source="15" target="33" type="double" value="1" />
				<link source="15" target="34" type="double" value="1" />
				<link source="16" target="33" type="double" value="1" />
				<link source="16" target="34" type="double" value="1" />
				<link source="17" target="6" type="double" value="1" />
				<link source="17" target="7" type="double" value="1" />
				<link source="18" target="1" type="double" value="1" />
				<link source="18" target="2" type="double" value="1" />
				<link source="19" target="33" type="double" value="1" />
				<link source="19" target="34" type="double" value="1" />
				<link source="20" target="1" type="double" value="1" />
				<link source="20" target="2" type="double" value="1" />
				<link source="20" target="34" type="double" value="1" />
				<link source="21" target="33" type="double" value="1" />
				<link source="21" target="34" type="double" value="1" />
				<link source="22" target="1" type="double" value="1" />
				<link source="22" target="2" type="double" value="1" />
				<link source="23" target="33" type="double" value="1" />
				<link source="23" target="34" type="double" value="1" />
				<link source="24" target="26" type="double" value="1" />
				<link source="24" target="28" type="double" value="1" />
				<link source="24" target="30" type="double" value="1" />
				<link source="24" target="33" type="double" value="1" />
				<link source="24" target="34" type="double" value="1" />
				<link source="25" target="26" type="double" value="1" />
				<link source="25" target="28" type="double" value="1" />
				<link source="25" target="32" type="double" value="1" />
				<link source="26" target="24" type="double" value="1" />
				<link source="26" target="25" type="double" value="1" />
				<link source="26" target="32" type="double" value="1" />
				<link source="27" target="30" type="double" value="1" />
				<link source="27" target="34" type="double" value="1" />
				<link source="28" target="3" type="double" value="1" />
				<link source="28" target="24" type="double" value="1" />
				<link source="28" target="25" type="double" value="1" />
				<link source="28" target="34" type="double" value="1" />
				<link source="29" target="3" type="double" value="1" />
				<link source="29" target="32" type="double" value="1" />
				<link source="29" target="34" type="double" value="1" />
				<link source="30" target="24" type="double" value="1" />
				<link source="30" target="27" type="double" value="1" />
				<link source="30" target="33" type="double" value="1" />
				<link source="30" target="34" type="double" value="1" />
				<link source="31" target="2" type="double" value="1" />
				<link source="31" target="9" type="double" value="1" />
				<link source="31" target="33" type="double" value="1" />
				<link source="31" target="34" type="double" value="1" />
				<link source="32" target="1" type="double" value="1" />
				<link source="32" target="25" type="double" value="1" />
				<link source="32" target="26" type="double" value="1" />
				<link source="32" target="29" type="double" value="1" />
				<link source="32" target="33" type="double" value="1" />
				<link source="32" target="34" type="double" value="1" />
				<link source="33" target="3" type="double" value="1" />
				<link source="33" target="9" type="double" value="1" />
				<link source="33" target="15" type="double" value="1" />
				<link source="33" target="16" type="double" value="1" />
				<link source="33" target="19" type="double" value="1" />
				<link source="33" target="21" type="double" value="1" />
				<link source="33" target="23" type="double" value="1" />
				<link source="33" target="24" type="double" value="1" />
				<link source="33" target="30" type="double" value="1" />
				<link source="33" target="31" type="double" value="1" />
				<link source="33" target="32" type="double" value="1" />
				<link source="33" target="34" type="double" value="1" />
				<link source="34" target="9" type="double" value="1" />
				<link source="34" target="10" type="double" value="1" />
				<link source="34" target="14" type="double" value="1" />
				<link source="34" target="15" type="double" value="1" />
				<link source="34" target="16" type="double" value="1" />
				<link source="34" target="19" type="double" value="1" />
				<link source="34" target="20" type="double" value="1" />
				<link source="34" target="21" type="double" value="1" />
				<link source="34" target="23" type="double" value="1" />
				<link source="34" target="24" type="double" value="1" />
				<link source="34" target="27" type="double" value="1" />
				<link source="34" target="28" type="double" value="1" />
				<link source="34" target="29" type="double" value="1" />
				<link source="34" target="30" type="double" value="1" />
				<link source="34" target="31" type="double" value="1" />
				<link source="34" target="32" type="double" value="1" />
				<link source="34" target="33" type="double" value="1" />
				<properties>
					<property category="" name="file" type="string" value="C:\Oleg\Data\zachary.dl" />
				</properties>
			</network>
			<network sourceType="agent" targetType="agent" id="ZACHC" isDirected="true">
				<link source="1" target="2" type="double" value="4" />
				<link source="1" target="3" type="double" value="5" />
				<link source="1" target="4" type="double" value="3" />
				<link source="1" target="5" type="double" value="3" />
				<link source="1" target="6" type="double" value="3" />
				<link source="1" target="7" type="double" value="3" />
				<link source="1" target="8" type="double" value="2" />
				<link source="1" target="9" type="double" value="2" />
				<link source="1" target="11" type="double" value="2" />
				<link source="1" target="12" type="double" value="3" />
				<link source="1" target="13" type="double" value="1" />
				<link source="1" target="14" type="double" value="3" />
				<link source="1" target="18" type="double" value="2" />
				<link source="1" target="20" type="double" value="2" />
				<link source="1" target="22" type="double" value="2" />
				<link source="1" target="32" type="double" value="2" />
				<link source="2" target="1" type="double" value="4" />
				<link source="2" target="3" type="double" value="6" />
				<link source="2" target="4" type="double" value="3" />
				<link source="2" target="8" type="double" value="4" />
				<link source="2" target="14" type="double" value="5" />
				<link source="2" target="18" type="double" value="1" />
				<link source="2" target="20" type="double" value="2" />
				<link source="2" target="22" type="double" value="2" />
				<link source="2" target="31" type="double" value="2" />
				<link source="3" target="1" type="double" value="5" />
				<link source="3" target="2" type="double" value="6" />
				<link source="3" target="4" type="double" value="3" />
				<link source="3" target="8" type="double" value="4" />
				<link source="3" target="9" type="double" value="5" />
				<link source="3" target="10" type="double" value="1" />
				<link source="3" target="14" type="double" value="3" />
				<link source="3" target="28" type="double" value="2" />
				<link source="3" target="29" type="double" value="2" />
				<link source="3" target="33" type="double" value="2" />
				<link source="4" target="1" type="double" value="3" />
				<link source="4" target="2" type="double" value="3" />
				<link source="4" target="3" type="double" value="3" />
				<link source="4" target="8" type="double" value="3" />
				<link source="4" target="13" type="double" value="3" />
				<link source="4" target="14" type="double" value="3" />
				<link source="5" target="1" type="double" value="3" />
				<link source="5" target="7" type="double" value="2" />
				<link source="5" target="11" type="double" value="3" />
				<link source="6" target="1" type="double" value="3" />
				<link source="6" target="7" type="double" value="5" />
				<link source="6" target="11" type="double" value="3" />
				<link source="6" target="17" type="double" value="3" />
				<link source="7" target="1" type="double" value="3" />
				<link source="7" target="5" type="double" value="2" />
				<link source="7" target="6" type="double" value="5" />
				<link source="7" target="17" type="double" value="3" />
				<link source="8" target="1" type="double" value="2" />
				<link source="8" target="2" type="double" value="4" />
				<link source="8" target="3" type="double" value="4" />
				<link source="8" target="4" type="double" value="3" />
				<link source="9" target="1" type="double" value="2" />
				<link source="9" target="3" type="double" value="5" />
				<link source="9" target="31" type="double" value="3" />
				<link source="9" target="33" type="double" value="3" />
				<link source="9" target="34" type="double" value="4" />
				<link source="10" target="3" type="double" value="1" />
				<link source="10" target="34" type="double" value="2" />
				<link source="11" target="1" type="double" value="2" />
				<link source="11" target="5" type="double" value="3" />
				<link source="11" target="6" type="double" value="3" />
				<link source="12" target="1" type="double" value="3" />
				<link source="13" target="1" type="double" value="1" />
				<link source="13" target="4" type="double" value="3" />
				<link source="14" target="1" type="double" value="3" />
				<link source="14" target="2" type="double" value="5" />
				<link source="14" target="3" type="double" value="3" />
				<link source="14" target="4" type="double" value="3" />
				<link source="14" target="34" type="double" value="3" />
				<link source="15" target="33" type="double" value="3" />
				<link source="15" target="34" type="double" value="2" />
				<link source="16" target="33" type="double" value="3" />
				<link source="16" target="34" type="double" value="4" />
				<link source="17" target="6" type="double" value="3" />
				<link source="17" target="7" type="double" value="3" />
				<link source="18" target="1" type="double" value="2" />
				<link source="18" target="2" type="double" value="1" />
				<link source="19" target="33" type="double" value="1" />
				<link source="19" target="34" type="double" value="2" />
				<link source="20" target="1" type="double" value="2" />
				<link source="20" target="2" type="double" value="2" />
				<link source="20" target="34" type="double" value="1" />
				<link source="21" target="33" type="double" value="3" />
				<link source="21" target="34" type="double" value="1" />
				<link source="22" target="1" type="double" value="2" />
				<link source="22" target="2" type="double" value="2" />
				<link source="23" target="33" type="double" value="2" />
				<link source="23" target="34" type="double" value="3" />
				<link source="24" target="26" type="double" value="5" />
				<link source="24" target="28" type="double" value="4" />
				<link source="24" target="30" type="double" value="3" />
				<link source="24" target="33" type="double" value="5" />
				<link source="24" target="34" type="double" value="4" />
				<link source="25" target="26" type="double" value="2" />
				<link source="25" target="28" type="double" value="3" />
				<link source="25" target="32" type="double" value="2" />
				<link source="26" target="24" type="double" value="5" />
				<link source="26" target="25" type="double" value="2" />
				<link source="26" target="32" type="double" value="7" />
				<link source="27" target="30" type="double" value="4" />
				<link source="27" target="34" type="double" value="2" />
				<link source="28" target="3" type="double" value="2" />
				<link source="28" target="24" type="double" value="4" />
				<link source="28" target="25" type="double" value="3" />
				<link source="28" target="34" type="double" value="4" />
				<link source="29" target="3" type="double" value="2" />
				<link source="29" target="32" type="double" value="2" />
				<link source="29" target="34" type="double" value="2" />
				<link source="30" target="24" type="double" value="3" />
				<link source="30" target="27" type="double" value="4" />
				<link source="30" target="33" type="double" value="4" />
				<link source="30" target="34" type="double" value="2" />
				<link source="31" target="2" type="double" value="2" />
				<link source="31" target="9" type="double" value="3" />
				<link source="31" target="33" type="double" value="3" />
				<link source="31" target="34" type="double" value="3" />
				<link source="32" target="1" type="double" value="2" />
				<link source="32" target="25" type="double" value="2" />
				<link source="32" target="26" type="double" value="7" />
				<link source="32" target="29" type="double" value="2" />
				<link source="32" target="33" type="double" value="4" />
				<link source="32" target="34" type="double" value="4" />
				<link source="33" target="3" type="double" value="2" />
				<link source="33" target="9" type="double" value="3" />
				<link source="33" target="15" type="double" value="3" />
				<link source="33" target="16" type="double" value="3" />
				<link source="33" target="19" type="double" value="1" />
				<link source="33" target="21" type="double" value="3" />
				<link source="33" target="23" type="double" value="2" />
				<link source="33" target="24" type="double" value="5" />
				<link source="33" target="30" type="double" value="4" />
				<link source="33" target="31" type="double" value="3" />
				<link source="33" target="32" type="double" value="4" />
				<link source="33" target="34" type="double" value="5" />
				<link source="34" target="9" type="double" value="4" />
				<link source="34" target="10" type="double" value="2" />
				<link source="34" target="14" type="double" value="3" />
				<link source="34" target="15" type="double" value="2" />
				<link source="34" target="16" type="double" value="4" />
				<link source="34" target="19" type="double" value="2" />
				<link source="34" target="20" type="double" value="1" />
				<link source="34" target="21" type="double" value="1" />
				<link source="34" target="23" type="double" value="3" />
				<link source="34" target="24" type="double" value="4" />
				<link source="34" target="27" type="double" value="2" />
				<link source="34" target="28" type="double" value="4" />
				<link source="34" target="29" type="double" value="2" />
				<link source="34" target="30" type="double" value="2" />
				<link source="34" target="31" type="double" value="3" />
				<link source="34" target="32" type="double" value="4" />
				<link source="34" target="33" type="double" value="5" />
				<properties>
					<property category="" name="file" type="string" value="C:\Oleg\Data\zachary.dl" />
				</properties>
			</network>
		</networks>
	</MetaNetwork>
</DynamicNetwork>
```

:::

::: {.panel-tabset}

## Python

```{python}
#| code-fold: true
#| code-summary: "read_xml()"

import xml.etree.ElementTree as ET

def read_xml():
  with open(data_dir / 'zachary' / "karate3A.txt", "r") as file:
      xml_data = file.read()

  root = ET.fromstring(xml_data)
  
  G = nx.Graph()

  for node in root.findall(".//node"):
      G.add_node(node.attrib['id'])
    
  for link in root.findall(".//link"):
      source = link.attrib['source']
      target = link.attrib['target']
      value = float(link.attrib['value'])  # assuming you want to use this as a weight
      G.add_edge(source, target, weight=value)

  return G
```

```{python}
nx.draw(read_xml())
```

Or does it? If `graphml` is well formatted, that should just work:

```{python}
nx.draw(nx.read_graphml(data_dir / 'zachary' / 'karate3B.txt'))
```

## R

:::


### Format 5

::: {.callout-tip}
In my dataviz work, i end up coming back and forth alot between `javascript` and `python`. This means you need to get used to the `.json` format, as it is the _defacto_ format for the web (APIs mostly return `.json`, `d3.js` also make heavy used of `.json`). Here is an example from my work.
:::

::: {.callout-note title="format 5" collapse="true"}

```zsh
{
    "nodes":[
       {
          "id":"2660575",
          "label":"Peter Sheridan Dodds",
          "group":1
       },
       {
          "id":"2070589931",
          "label":"Juniper L. Lovato",
          "group":6
       },
       {
          "id":"1945992",
          "label":"Mads Almassalkhi",
          "group":8
       },
       {
          "id":"2229958",
          "label":"James Bagrow",
          "group":1
       },
       {
          "id":"7373730",
          "label":"Joshua Bongard",
          "group":2
       },
       {
          "id":"2800259",
          "label":"Nicholas Cheney",
          "group":2
       },
       {
          "id":"2310860",
          "label":"Chris Danforth",
          "group":1
       },
       {
          "id":"2449352",
          "label":"Margaret Eppstein",
          "group":2
       },
       {
          "id":"2943065",
          "label":"Hugh Garavan",
          "group":7
       },
       {
          "id":"49172955",
          "label":"Bill Gibson",
          "group":1
       },
       {
          "id":"50723116",
          "label":"Randall Harp",
          "group":6
       },
       {
          "id":"1387936232",
          "label":"Laurent Hébert-Dufresne",
          "group":2
       },
       {
          "id":"4444363",
          "label":"Meredith Niles",
          "group":5
       },
       {
          "id":"1409432424",
          "label":"Jarlath O'Neil-Dunne",
          "group":5
       },
       {
          "id":"3391180",
          "label":"Jeremiah Onaolapo",
          "group":2
       },
       {
          "id":"46298112",
          "label":"Alice Patania",
          "group":1
       },
       {
          "id":"145046057",
          "label":"Matthew Price",
          "group":4
       },
       {
          "id":"29113221",
          "label":"Donna Rizzo",
          "group":8
       },
       {
          "id":"3096649",
          "label":"Brian Tivnan",
          "group":1
       },
       {
          "id":"38247697",
          "label":"Puck Rombach",
          "group":1
       },
       {
          "id":"2232853",
          "label":"Jean-Gabriel Young",
          "group":3
       },
       {
          "id":"1732789",
          "label":"Safwan Wshah",
          "group":2
       }
    ],
    "links":[
       {
          "source":"1387936232",
          "target":"1387936232",
          "value":94
       },
       {
          "source":"1387936232",
          "target":"2232853",
          "value":24
       },
       {
          "source":"1387936232",
          "target":"7373730",
          "value":3
       },
       {
          "source":"1387936232",
          "target":"2070589931",
          "value":4
       },
       {
          "source":"1387936232",
          "target":"4444363",
          "value":1
       },
       {
          "source":"1387936232",
          "target":"50723116",
          "value":1
       },
       {
          "source":"1387936232",
          "target":"3391180",
          "value":1
       },
       {
          "source":"1387936232",
          "target":"2229958",
          "value":3
       },
       {
          "source":"1387936232",
          "target":"145046057",
          "value":1
       },
       {
          "source":"1409432424",
          "target":"1409432424",
          "value":93
       },
       {
          "source":"1409432424",
          "target":"2660575",
          "value":4
       },
       {
          "source":"1409432424",
          "target":"2310860",
          "value":4
       },
       {
          "source":"1409432424",
          "target":"29113221",
          "value":5
       },
       {
          "source":"145046057",
          "target":"145046057",
          "value":112
       },
       {
          "source":"145046057",
          "target":"2660575",
          "value":2
       },
       {
          "source":"145046057",
          "target":"2310860",
          "value":2
       },
       {
          "source":"145046057",
          "target":"1732789",
          "value":3
       },
       {
          "source":"145046057",
          "target":"2229958",
          "value":1
       },
       {
          "source":"145046057",
          "target":"2943065",
          "value":2
       },
       {
          "source":"145046057",
          "target":"1387936232",
          "value":1
       },
       {
          "source":"1732789",
          "target":"1732789",
          "value":46
       },
       {
          "source":"1732789",
          "target":"145046057",
          "value":3
       },
       {
          "source":"1732789",
          "target":"29113221",
          "value":1
       },
       {
          "source":"1945992",
          "target":"1945992",
          "value":58
       },
       {
          "source":"2070589931",
          "target":"7373730",
          "value":3
       },
       {
          "source":"2070589931",
          "target":"2070589931",
          "value":8
       },
       {
          "source":"2070589931",
          "target":"1387936232",
          "value":4
       },
       {
          "source":"2070589931",
          "target":"50723116",
          "value":3
       },
       {
          "source":"2070589931",
          "target":"3391180",
          "value":2
       },
       {
          "source":"2229958",
          "target":"2229958",
          "value":92
       },
       {
          "source":"2229958",
          "target":"2660575",
          "value":15
       },
       {
          "source":"2229958",
          "target":"2310860",
          "value":17
       },
       {
          "source":"2229958",
          "target":"3096649",
          "value":4
       },
       {
          "source":"2229958",
          "target":"7373730",
          "value":5
       },
       {
          "source":"2229958",
          "target":"145046057",
          "value":1
       },
       {
          "source":"2229958",
          "target":"1387936232",
          "value":3
       },
       {
          "source":"2229958",
          "target":"2232853",
          "value":2
       },
       {
          "source":"2232853",
          "target":"2232853",
          "value":55
       },
       {
          "source":"2232853",
          "target":"1387936232",
          "value":24
       },
       {
          "source":"2232853",
          "target":"46298112",
          "value":3
       },
       {
          "source":"2232853",
          "target":"2229958",
          "value":2
       },
       {
          "source":"2310860",
          "target":"2310860",
          "value":150
       },
       {
          "source":"2310860",
          "target":"2660575",
          "value":104
       },
       {
          "source":"2310860",
          "target":"145046057",
          "value":2
       },
       {
          "source":"2310860",
          "target":"4444363",
          "value":3
       },
       {
          "source":"2310860",
          "target":"1409432424",
          "value":4
       },
       {
          "source":"2310860",
          "target":"3096649",
          "value":9
       },
       {
          "source":"2310860",
          "target":"2229958",
          "value":17
       },
       {
          "source":"2310860",
          "target":"2943065",
          "value":3
       },
       {
          "source":"2310860",
          "target":"7373730",
          "value":9
       },
       {
          "source":"2310860",
          "target":"2449352",
          "value":2
       },
       {
          "source":"2310860",
          "target":"29113221",
          "value":1
       },
       {
          "source":"2310860",
          "target":"50723116",
          "value":1
       },
       {
          "source":"2449352",
          "target":"2449352",
          "value":123
       },
       {
          "source":"2449352",
          "target":"29113221",
          "value":24
       },
       {
          "source":"2449352",
          "target":"2310860",
          "value":2
       },
       {
          "source":"2449352",
          "target":"2660575",
          "value":1
       },
       {
          "source":"2660575",
          "target":"2660575",
          "value":169
       },
       {
          "source":"2660575",
          "target":"2310860",
          "value":104
       },
       {
          "source":"2660575",
          "target":"145046057",
          "value":2
       },
       {
          "source":"2660575",
          "target":"4444363",
          "value":3
       },
       {
          "source":"2660575",
          "target":"1409432424",
          "value":4
       },
       {
          "source":"2660575",
          "target":"2229958",
          "value":15
       },
       {
          "source":"2660575",
          "target":"3096649",
          "value":6
       },
       {
          "source":"2660575",
          "target":"7373730",
          "value":6
       },
       {
          "source":"2660575",
          "target":"2943065",
          "value":1
       },
       {
          "source":"2660575",
          "target":"50723116",
          "value":1
       },
       {
          "source":"2660575",
          "target":"2449352",
          "value":1
       },
       {
          "source":"2800259",
          "target":"2800259",
          "value":35
       },
       {
          "source":"2800259",
          "target":"7373730",
          "value":16
       },
       {
          "source":"29113221",
          "target":"29113221",
          "value":213
       },
       {
          "source":"29113221",
          "target":"1409432424",
          "value":5
       },
       {
          "source":"29113221",
          "target":"2449352",
          "value":24
       },
       {
          "source":"29113221",
          "target":"2310860",
          "value":1
       },
       {
          "source":"29113221",
          "target":"1732789",
          "value":1
       },
       {
          "source":"2943065",
          "target":"2943065",
          "value":518
       },
       {
          "source":"2943065",
          "target":"2310860",
          "value":3
       },
       {
          "source":"2943065",
          "target":"7373730",
          "value":4
       },
       {
          "source":"2943065",
          "target":"2660575",
          "value":1
       },
       {
          "source":"2943065",
          "target":"145046057",
          "value":2
       },
       {
          "source":"3096649",
          "target":"3096649",
          "value":42
       },
       {
          "source":"3096649",
          "target":"2310860",
          "value":9
       },
       {
          "source":"3096649",
          "target":"2660575",
          "value":6
       },
       {
          "source":"3096649",
          "target":"2229958",
          "value":4
       },
       {
          "source":"3096649",
          "target":"7373730",
          "value":1
       },
       {
          "source":"3391180",
          "target":"3391180",
          "value":31
       },
       {
          "source":"3391180",
          "target":"2070589931",
          "value":2
       },
       {
          "source":"3391180",
          "target":"50723116",
          "value":2
       },
       {
          "source":"3391180",
          "target":"1387936232",
          "value":1
       },
       {
          "source":"38247697",
          "target":"38247697",
          "value":16
       },
       {
          "source":"4444363",
          "target":"4444363",
          "value":123
       },
       {
          "source":"4444363",
          "target":"2660575",
          "value":3
       },
       {
          "source":"4444363",
          "target":"2310860",
          "value":3
       },
       {
          "source":"4444363",
          "target":"1387936232",
          "value":1
       },
       {
          "source":"46298112",
          "target":"46298112",
          "value":24
       },
       {
          "source":"46298112",
          "target":"2232853",
          "value":3
       },
       {
          "source":"49172955",
          "target":"49172955",
          "value":68
       },
       {
          "source":"50723116",
          "target":"50723116",
          "value":16
       },
       {
          "source":"50723116",
          "target":"2070589931",
          "value":3
       },
       {
          "source":"50723116",
          "target":"3391180",
          "value":2
       },
       {
          "source":"50723116",
          "target":"1387936232",
          "value":1
       },
       {
          "source":"50723116",
          "target":"2660575",
          "value":1
       },
       {
          "source":"50723116",
          "target":"2310860",
          "value":1
       },
       {
          "source":"7373730",
          "target":"7373730",
          "value":231
       },
       {
          "source":"7373730",
          "target":"2070589931",
          "value":3
       },
       {
          "source":"7373730",
          "target":"1387936232",
          "value":3
       },
       {
          "source":"7373730",
          "target":"2943065",
          "value":4
       },
       {
          "source":"7373730",
          "target":"2310860",
          "value":9
       },
       {
          "source":"7373730",
          "target":"2800259",
          "value":16
       },
       {
          "source":"7373730",
          "target":"2660575",
          "value":6
       },
       {
          "source":"7373730",
          "target":"2229958",
          "value":5
       },
       {
          "source":"7373730",
          "target":"3096649",
          "value":1
       }
    ]
 }
```
:::

Then you need to write some code. Here is one way to do it

```{python}
with open(data_dir / "csys_collab" / "csys_collab.json") as f: 
  dat=json.loads(f.read())         

g = nx.Graph() # undirected by default

# https://networkx.org/documentation/stable/reference/classes/generated/networkx.Graph.add_nodes_from.html
nodelist = [(n['id'], dict(group=n['group'], label=n['label'])) for n in dat['nodes']]
g.add_nodes_from(nodelist)

# https://networkx.org/documentation/stable/reference/classes/generated/networkx.Graph.add_weighted_edges_from.html#networkx.Graph.add_weighted_edges_from
edgelist = [(e['source'], e['target'], e['value']) for e in dat['links'] 
            if e['source'] != e['target']]

g.add_weighted_edges_from(edgelist)

nx.draw(g)
```

`Networkx` is very friendly to `numpy`, use it to your advantage:

```{python}
nx.draw(nx.Graph(np.loadtxt(data_dir / 'csys_collab' / 'csys_collab.txt')))
```

You can read directly from edges, and nodes are gonna be created on the fly:
```{python}
nx.draw(nx.read_weighted_edgelist(data_dir / 'csys_collab' / 'csys_collab.edgelist'))
```

But be mindful that if some nodes that you care about are disconnected, they won't show up in the graph if you just read the edgelist:
```{python}
nx.draw(nx.read_weighted_edgelist(data_dir / 'csys_collab' / 'csys_collab_noselfloop.edgelist'))
```

## Format 6

::: {.callout-tip}
Sometimes, you won't be able to inspect the data. It happens
:::

#### Bonus 

Zachary's dataset comes out of the box in many standard network packages.

::: {.panel-tabset}

## python

```{python}
nx.draw(nx.karate_club_graph())
```

## R

```{r}
plot(igraph::make_graph('Zachary'))
```

:::

## But, why?

```{r}
#| label: fig-standards
#| echo: false
#| out-width: "75%"
#| fig.cap: "I/O standards (xkcd - Randall Munroe)"

knitr::include_graphics("images/standards.png")
```

Three reasons come to my mind for all these standards:

1. Scientic culture
1. Inertia
1. Trade-offs. 

By scientific culture, I rally mean different set of expectations about what scientists should know when it comes to programming. For instance, the `dl-format` was written for the `Ucinet` GUI by sociologists when they weren't execting sociologists to be both coders and scientists at the same time. Like `SAS` and `STATA`, the idea is that software should be done by professionals who are paid through licensing to develop the product, not a bunch of amateurs. 

When you take time to understand the trade-offs, i find understanding I/O to be surprisingly insightful in why some people store data the way they do. Think about storing 





## Exercises

#### 

read `karate5` data.

### Multilayer network of Zachary Karate Club Club (ZKCC)

```{r}
#| label: fig-quarto-flow
#| echo: false
#| out-width: "75%"
#| fig-cap: |
#|  Visualization of the Zachary Karate Club Club (ZKCC) network as a multilayer network. Nodes (i.e. elements of V⁠) in the network are the four network scientists who have held the coveted karate trophy for a period of time and have been awarded the associated membership in the ZKCC [142]. The current members of the ZKCC are Cris Moore (CM), Mason A. Porter (MAP), Yong-Yeol Ahn (YYA) and Marián Boguñá (MB). In the figure, Aaron Clauset (AC) is standing in for CM, as the former awarded the karate trophy to MAP at NetSci’13 on behalf of the latter (who did not attend any of the conferences in the figure). 

knitr::include_graphics("images/kivela2014_fig3.jpeg")
```

#### Temporal network

- Process on network


- Process of network

### Higher-order networks

What if we have edges beyond pairwise interactions?



### Graphtool

Installation is the main challenge.